{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport { GET_TODOS } from \"../queries/Todo\";\nimport { CREATE_TODO, UPDATE_TODO } from \"../mutations/Todo\";\nexport const useTodos = () => {\n  _s();\n  const {\n    error,\n    loading: isLoading,\n    data\n  } = useQuery(GET_TODOS);\n  const todos = data === null || data === void 0 ? void 0 : data.getTodos;\n  return {\n    error,\n    todos,\n    isLoading\n  };\n};\n_s(useTodos, \"Lmxy/eVHnENfktB+LTlYY9wnKNg=\", false, function () {\n  return [useQuery];\n});\nexport const useCreateTodo = () => {\n  _s2();\n  const [createTodoMutation, {\n    error,\n    loading: isLoading\n  }] = useMutation(CREATE_TODO);\n  const createTodo = ({\n    title,\n    details,\n    date\n  }) => {\n    createTodoMutation({\n      variables: {\n        title: title,\n        details: details,\n        date: date\n      },\n      update(cache, {\n        data\n      }) {\n        updateTodoCache({\n          cache,\n          newTodo: data.createTodo\n        });\n      }\n    });\n  };\n  return {\n    createTodo,\n    error,\n    isLoading\n  };\n};\n_s2(useCreateTodo, \"DW2A8Dy43nVhMdZN1kgDJgzAoq0=\", false, function () {\n  return [useMutation];\n});\nexport const useUpdateTodo = () => {\n  _s3();\n  const [updateTodoMutation, {\n    error,\n    loading: isLoading\n  }] = useMutation(UPDATE_TODO);\n  const updateTodo = ({\n    id,\n    title,\n    details,\n    date\n  }) => {\n    updateTodoMutation({\n      variables: {\n        id: id,\n        title: title,\n        details: details,\n        date: date\n      },\n      update(cache, {\n        data\n      }) {\n        updateTodoCache({\n          cache,\n          newTodo: data.updateTodo\n        });\n      }\n    });\n  };\n};\n_s3(useUpdateTodo, \"XtDbOceoNL1i5kkZHKKdc4rvdMo=\", false, function () {\n  return [useMutation];\n});\nfunction updateTodoCache({\n  cache,\n  newTodo\n}) {\n  const {\n    getTodos\n  } = cache.readQuery({\n    query: GET_TODOS\n  });\n  cache.writeQuery({\n    query: GET_TODOS,\n    data: {\n      getTodos: [...getTodos, newTodo]\n    }\n  });\n}","map":{"version":3,"names":["useMutation","useQuery","GET_TODOS","CREATE_TODO","UPDATE_TODO","useTodos","_s","error","loading","isLoading","data","todos","getTodos","useCreateTodo","_s2","createTodoMutation","createTodo","title","details","date","variables","update","cache","updateTodoCache","newTodo","useUpdateTodo","_s3","updateTodoMutation","updateTodo","id","readQuery","query","writeQuery"],"sources":["/Users/israelromero/todoApp/client/src/graphql/hooks/todoHooks.js"],"sourcesContent":["import { useMutation, useQuery } from \"@apollo/client\";\nimport { GET_TODOS } from \"../queries/Todo\";\nimport { CREATE_TODO, UPDATE_TODO } from \"../mutations/Todo\";\n\nexport const useTodos = () => {\n  const { error, loading: isLoading, data } = useQuery(GET_TODOS);\n\n  const todos = data?.getTodos;\n\n  return { error, todos, isLoading };\n};\n\nexport const useCreateTodo = () => {\n  const [createTodoMutation, { error, loading: isLoading }] =\n    useMutation(CREATE_TODO);\n\n  const createTodo = ({ title, details, date }) => {\n    createTodoMutation({\n      variables: {\n        title: title,\n        details: details,\n        date: date,\n      },\n      update(cache, { data }) {\n        updateTodoCache({ cache, newTodo: data.createTodo });\n      },\n    });\n  };\n\n  return { createTodo, error, isLoading };\n};\n\nexport const useUpdateTodo = () => {\n  const [updateTodoMutation, { error, loading: isLoading }] =\n    useMutation(UPDATE_TODO);\n\n  const updateTodo = ({ id, title, details, date }) => {\n    updateTodoMutation({\n      variables: {\n        id: id,\n        title: title,\n        details: details,\n        date: date,\n      },\n      update(cache, { data }) {\n        updateTodoCache({ cache, newTodo: data.updateTodo });\n      },\n    });\n  };\n};\n\nfunction updateTodoCache({ cache, newTodo }) {\n  const { getTodos } = cache.readQuery({ query: GET_TODOS });\n  cache.writeQuery({\n    query: GET_TODOS,\n    data: { getTodos: [...getTodos, newTodo] },\n  });\n}\n"],"mappings":";;;AAAA,SAASA,WAAW,EAAEC,QAAQ,QAAQ,gBAAgB;AACtD,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,WAAW,EAAEC,WAAW,QAAQ,mBAAmB;AAE5D,OAAO,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC5B,MAAM;IAAEC,KAAK;IAAEC,OAAO,EAAEC,SAAS;IAAEC;EAAK,CAAC,GAAGT,QAAQ,CAACC,SAAS,CAAC;EAE/D,MAAMS,KAAK,GAAGD,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEE,QAAQ;EAE5B,OAAO;IAAEL,KAAK;IAAEI,KAAK;IAAEF;EAAU,CAAC;AACpC,CAAC;AAACH,EAAA,CANWD,QAAQ;EAAA,QACyBJ,QAAQ;AAAA;AAOtD,OAAO,MAAMY,aAAa,GAAGA,CAAA,KAAM;EAAAC,GAAA;EACjC,MAAM,CAACC,kBAAkB,EAAE;IAAER,KAAK;IAAEC,OAAO,EAAEC;EAAU,CAAC,CAAC,GACvDT,WAAW,CAACG,WAAW,CAAC;EAE1B,MAAMa,UAAU,GAAGA,CAAC;IAAEC,KAAK;IAAEC,OAAO;IAAEC;EAAK,CAAC,KAAK;IAC/CJ,kBAAkB,CAAC;MACjBK,SAAS,EAAE;QACTH,KAAK,EAAEA,KAAK;QACZC,OAAO,EAAEA,OAAO;QAChBC,IAAI,EAAEA;MACR,CAAC;MACDE,MAAMA,CAACC,KAAK,EAAE;QAAEZ;MAAK,CAAC,EAAE;QACtBa,eAAe,CAAC;UAAED,KAAK;UAAEE,OAAO,EAAEd,IAAI,CAACM;QAAW,CAAC,CAAC;MACtD;IACF,CAAC,CAAC;EACJ,CAAC;EAED,OAAO;IAAEA,UAAU;IAAET,KAAK;IAAEE;EAAU,CAAC;AACzC,CAAC;AAACK,GAAA,CAlBWD,aAAa;EAAA,QAEtBb,WAAW;AAAA;AAkBf,OAAO,MAAMyB,aAAa,GAAGA,CAAA,KAAM;EAAAC,GAAA;EACjC,MAAM,CAACC,kBAAkB,EAAE;IAAEpB,KAAK;IAAEC,OAAO,EAAEC;EAAU,CAAC,CAAC,GACvDT,WAAW,CAACI,WAAW,CAAC;EAE1B,MAAMwB,UAAU,GAAGA,CAAC;IAAEC,EAAE;IAAEZ,KAAK;IAAEC,OAAO;IAAEC;EAAK,CAAC,KAAK;IACnDQ,kBAAkB,CAAC;MACjBP,SAAS,EAAE;QACTS,EAAE,EAAEA,EAAE;QACNZ,KAAK,EAAEA,KAAK;QACZC,OAAO,EAAEA,OAAO;QAChBC,IAAI,EAAEA;MACR,CAAC;MACDE,MAAMA,CAACC,KAAK,EAAE;QAAEZ;MAAK,CAAC,EAAE;QACtBa,eAAe,CAAC;UAAED,KAAK;UAAEE,OAAO,EAAEd,IAAI,CAACkB;QAAW,CAAC,CAAC;MACtD;IACF,CAAC,CAAC;EACJ,CAAC;AACH,CAAC;AAACF,GAAA,CAjBWD,aAAa;EAAA,QAEtBzB,WAAW;AAAA;AAiBf,SAASuB,eAAeA,CAAC;EAAED,KAAK;EAAEE;AAAQ,CAAC,EAAE;EAC3C,MAAM;IAAEZ;EAAS,CAAC,GAAGU,KAAK,CAACQ,SAAS,CAAC;IAAEC,KAAK,EAAE7B;EAAU,CAAC,CAAC;EAC1DoB,KAAK,CAACU,UAAU,CAAC;IACfD,KAAK,EAAE7B,SAAS;IAChBQ,IAAI,EAAE;MAAEE,QAAQ,EAAE,CAAC,GAAGA,QAAQ,EAAEY,OAAO;IAAE;EAC3C,CAAC,CAAC;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}